{"version":3,"sources":["IconDot.tsx"],"names":["IconDotComponent","props","index","selectedIndex","children","progress","value","result","prevValue","opacity","scale","style","position","transform","IconDot","isEqual"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAKA;;;;;;;;AAQA,MAAMA,gBAAgB,GAAIC,KAAD,IAAyB;AAChD;AACA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,aAAT;AAAwBC,IAAAA;AAAxB,MAAqCH,KAA3C,CAFgD,CAIhD;;AACA,QAAMI,QAAQ,GAAG,2CAAe,CAAf,CAAjB;AACA,kDACE,MAAMF,aAAa,CAACG,KAAd,KAAwBJ,KADhC,EAEE,CAACK,MAAD,EAASC,SAAT,KAAuB;AACrB,QAAID,MAAM,KAAKC,SAAf,EAA0B;AACxBH,MAAAA,QAAQ,CAACC,KAAT,GAAiB,kCAAaC,MAAM,GAAG,CAAH,GAAO,CAA1B,CAAjB;AACD;AACF,GANH;AAQA,QAAME,OAAO,GAAG,oCAAeJ,QAAf,EAAyB,CAAC,CAAD,EAAI,GAAJ,EAAS,CAAT,CAAzB,EAAsC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAtC,CAAhB;AACA,QAAMK,KAAK,GAAG,oCAAeL,QAAf,EAAyB,CAAC,CAAD,EAAI,CAAJ,CAAzB,EAAiC,CAAC,GAAD,EAAM,CAAN,CAAjC,CAAd,CAfgD,CAiBhD;;AACA,QAAMM,KAAK,GAAG,6CAAiB,OAAO;AACpCC,IAAAA,QAAQ,EAAE,UAD0B;AAEpCH,IAAAA,OAAO,EAAEA,OAAO,CAACH,KAFmB;AAGpCO,IAAAA,SAAS,EAAE,CAAC;AAAEH,MAAAA,KAAK,EAAEA,KAAK,CAACJ;AAAf,KAAD;AAHyB,GAAP,CAAjB,CAAd,CAlBgD,CAwBhD;;AACA,sBAAO,6BAAC,8BAAD,CAAU,IAAV;AAAe,IAAA,KAAK,EAAE,CAACK,KAAD;AAAtB,KAAgCP,QAAhC,CAAP;AACD,CA1BD;;AA4BO,MAAMU,OAAO,gBAAG,iBAAKd,gBAAL,EAAuBe,yBAAvB,CAAhB","sourcesContent":["import React, { memo } from 'react';\nimport isEqual from 'react-fast-compare';\nimport Animated, {\n  useAnimatedReaction,\n  useAnimatedStyle,\n  useSharedValue,\n} from 'react-native-reanimated';\nimport { sharedTiming, useInterpolate } from '../../AnimatedHelper';\n\ninterface IconDotProps {\n  index: number;\n  selectedIndex: Animated.SharedValue<number>;\n  children: React.ReactNode;\n}\n\nconst IconDotComponent = (props: IconDotProps) => {\n  // props\n  const { index, selectedIndex, children } = props;\n\n  // reanimated\n  const progress = useSharedValue(0);\n  useAnimatedReaction(\n    () => selectedIndex.value === index,\n    (result, prevValue) => {\n      if (result !== prevValue) {\n        progress.value = sharedTiming(result ? 1 : 0);\n      }\n    }\n  );\n  const opacity = useInterpolate(progress, [0, 0.6, 1], [0, 0, 1]);\n  const scale = useInterpolate(progress, [0, 1], [0.2, 1]);\n\n  // reanimated style\n  const style = useAnimatedStyle(() => ({\n    position: 'absolute',\n    opacity: opacity.value,\n    transform: [{ scale: scale.value }],\n  }));\n\n  // render\n  return <Animated.View style={[style]}>{children}</Animated.View>;\n};\n\nexport const IconDot = memo(IconDotComponent, isEqual);\n"]}